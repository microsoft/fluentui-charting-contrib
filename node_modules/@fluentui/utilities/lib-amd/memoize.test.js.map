{"version":3,"file":"memoize.test.js","sourceRoot":"../src/","sources":["memoize.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { memoize, memoizeFunction } from './memoize';\n\ndescribe('memoizeFunction', () => {\n  it('can return a cached result with a no args function', () => {\n    let _timesCalled = 0;\n    let memoizeFunctiondTimesCalled = memoizeFunction(() => ++_timesCalled);\n\n    expect(memoizeFunctiondTimesCalled()).toEqual(1);\n    expect(memoizeFunctiondTimesCalled()).toEqual(1);\n  });\n\n  it('can return a cached result with a 2 arg function', () => {\n    let _timesCalled = 0;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let combine = memoizeFunction((obj1: any, obj2: any) => obj1.val + obj2.val + ++_timesCalled);\n    let objA = { val: 'a' };\n    let objB = { val: 'b' };\n\n    expect(combine(objA, objA)).toEqual('aa1');\n    expect(combine(objA, objA)).toEqual('aa1');\n    expect(combine(objA, objB)).toEqual('ab2');\n    expect(combine(objA, objB)).toEqual('ab2');\n    expect(combine(objB, objA)).toEqual('ba3');\n    expect(combine(objB, objA)).toEqual('ba3');\n  });\n\n  it('do not use a cached result if the function is different', () => {\n    let _timesCalled = 0;\n    let test = memoizeFunction((fn: Function) => {\n      fn();\n      return ++_timesCalled;\n    });\n\n    function createFunctionArg(): Function {\n      return () => 'test';\n    }\n\n    let fnA = createFunctionArg();\n    let fnB = createFunctionArg();\n\n    expect(test(fnA)).toEqual(1);\n    expect(test(fnA)).toEqual(1);\n    expect(test(fnB)).toEqual(2);\n    expect(test(fnA)).toEqual(1);\n    expect(test(fnB)).toEqual(2);\n    expect(test(fnB)).toEqual(2);\n  });\n\n  it('can return a cached result with falsy args', () => {\n    let _timesCalled = 0;\n    let combine = memoizeFunction(\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (obj1: any, obj2: any) => (obj1 ? obj1.val : '') + (obj2 ? obj2.val : '') + ++_timesCalled,\n    );\n    let objA = { val: 'a' };\n    let objB = { val: 'b' };\n\n    expect(combine(objA, objA)).toEqual('aa1');\n    expect(combine(objA, undefined)).toEqual('a2');\n    expect(combine(null, objB)).toEqual('b3');\n    expect(combine(false, 0)).toEqual('4');\n  });\n\n  it('works if you pass less arguments on subsequent calls', () => {\n    let count = 0;\n    let func = memoizeFunction((a: string = '', b: string = '') => a + b + count++);\n\n    expect(func('hi', 'world')).toEqual('hiworld0');\n    expect(func('hi', 'world')).toEqual('hiworld0');\n    expect(func('hi')).toEqual('hi1');\n    expect(func('hi')).toEqual('hi1');\n    expect(func()).toEqual('2');\n    expect(func()).toEqual('2');\n  });\n\n  it('works if you pass more arguments on subsequent calls', () => {\n    let count = 0;\n    let func = memoizeFunction((a: string = '', b: string = '') => a + b + count++);\n\n    expect(func()).toEqual('0');\n    expect(func()).toEqual('0');\n    expect(func('hi')).toEqual('hi1');\n    expect(func('hi')).toEqual('hi1');\n    expect(func('hi', 'world')).toEqual('hiworld2');\n    expect(func('hi', 'world')).toEqual('hiworld2');\n  });\n\n  it('resets after resetCount limit is reached.', () => {\n    let count = 0;\n    let func = memoizeFunction((a: string) => a + count++, 1);\n\n    expect(func('a')).toEqual('a0');\n    expect(func('a')).toEqual('a0');\n    expect(func('b')).toEqual('b1');\n    expect(func('b')).toEqual('b2');\n    expect(func('b')).toEqual('b2');\n    expect(func('a')).toEqual('a3');\n    expect(func('a')).toEqual('a4');\n    expect(func('a')).toEqual('a4');\n  });\n\n  it('updates the cache if the cached value is null', () => {\n    let returnNull = true;\n    let callback = (): number | null => {\n      if (returnNull) {\n        return null;\n      }\n      return 1;\n    };\n    let func = memoizeFunction(() => callback(), undefined, true /*ignoreNullOrUndefinedResult */);\n    expect(func()).toEqual(null);\n    returnNull = false;\n    expect(func()).toEqual(1);\n  });\n\n  it('updates the cache if the cached value is undefined', () => {\n    let returnUndefined = true;\n    let callback = (): number | undefined => {\n      if (returnUndefined) {\n        return undefined;\n      }\n      return 1;\n    };\n    let func = memoizeFunction(() => callback(), undefined, true /*ignoreNullOrUndefinedResult */);\n    expect(func()).toEqual(undefined);\n    returnUndefined = false;\n    expect(func()).toEqual(1);\n  });\n\n  it('caches and preserves if the falsey value returned by the callback method is 0', () => {\n    let returnZero = true;\n    let callback = (): number => {\n      if (returnZero) {\n        return 0;\n      }\n      return 1;\n    };\n    let func = memoizeFunction(() => callback(), undefined, true /*ignoreNullOrUndefinedResult */);\n    expect(func()).toEqual(0);\n    returnZero = false;\n    expect(func()).toEqual(0);\n  });\n\n  it('caches and preserves if the falsey value returned by the callback method is NaN', () => {\n    let returnNaN = true;\n    let callback = (): number | null => {\n      if (returnNaN) {\n        return NaN;\n      }\n      return 1;\n    };\n    let func = memoizeFunction(() => callback(), undefined, true /*ignoreNullOrUndefinedResult */);\n    expect(func()).toEqual(NaN);\n    returnNaN = false;\n    expect(func()).toEqual(NaN);\n  });\n\n  it('caches and preserves if the falsey value returned by the callback method is false', () => {\n    let returnFalse = true;\n    let callback = (): number | boolean => {\n      if (returnFalse) {\n        return false;\n      }\n      return 1;\n    };\n    let func = memoizeFunction(() => callback(), undefined, true /*ignoreNullOrUndefinedResult */);\n    expect(func()).toEqual(false);\n    returnFalse = false;\n    expect(func()).toEqual(false);\n  });\n\n  it('caches and preserves if the falsey value returned by the callback method is empty string', () => {\n    let returnEmptyString = true;\n    let callback = (): number | string => {\n      if (returnEmptyString) {\n        return '';\n      }\n      return 1;\n    };\n    let func = memoizeFunction(() => callback(), undefined, true /*ignoreNullOrUndefinedResult */);\n    expect(func()).toEqual('');\n    returnEmptyString = false;\n    expect(func()).toEqual('');\n  });\n});\n\ndescribe('memoize', () => {\n  it('can work on multiple instances of a class', () => {\n    let _count = 0;\n\n    class Foo {\n      @memoize\n      public bar(val: string): string {\n        return val + _count++;\n      }\n    }\n\n    let f = new Foo();\n\n    expect(f.bar('hi')).toEqual('hi0');\n    expect(f.bar('hi')).toEqual('hi0');\n    expect(f.bar('bye')).toEqual('bye1');\n    expect(f.bar('bye')).toEqual('bye1');\n  });\n});\n"]}