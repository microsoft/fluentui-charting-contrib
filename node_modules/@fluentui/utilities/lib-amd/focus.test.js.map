{"version":3,"file":"focus.test.js","sourceRoot":"../src/","sources":["focus.test.tsx"],"names":[],"mappings":";;;IAcA,SAAS,kBAAkB,CAAC,OAA+B,EAAE,SAAsB;QACjF,IAAM,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,SAAS,CAAwB,CAAC;QAC7E,IAAM,WAAW,GAAG,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAgB,CAAC;QAEnE,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,QAAQ,CAAC,kBAAkB,EAAE;QAC3B,IAAI,aAAsC,CAAC;QAE3C,SAAS,CAAC;YACR,IAAI,aAAa,EAAE;gBACjB,QAAQ,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;gBAC/C,aAAa,CAAC,MAAM,EAAE,CAAC;gBACvB,aAAa,GAAG,SAAS,CAAC;aAC3B;QACH,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2CAA2C,EAAE;YAC9C,aAAa,GAAG,IAAA,oCAAmB,GAAE,CAAC;YAEtC,IAAM,cAAc,GAAG,kBAAkB,CACvC,gDAAsB,KAAK;gBACzB,mCAAU,CACN,EACN,aAAa,CACC,CAAC;YAEjB,MAAM,CAAC,IAAA,wBAAgB,EAAC,cAAc,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yCAAyC,EAAE;YAC5C,aAAa,GAAG,IAAA,oCAAmB,GAAE,CAAC;YACtC,IAAM,eAAe,GAAG,kBAAkB,CACxC,gDAAsB,IAAI;gBACxB,mCAAU,CACN,EACN,aAAa,CACC,CAAC;YAEjB,MAAM,CAAC,IAAA,wBAAgB,EAAC,eAAe,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,qEAAqE,EAAE;YACxE,aAAa,GAAG,IAAA,oCAAmB,GAAE,CAAC;YAEtC,IAAM,QAAQ,GAAG,kBAAkB,CACjC;gBACE,mCAAU,CACN,EACN,aAAa,CACC,CAAC;YAEjB,8DAA8D;YAC7D,QAAgB,CAAC,SAAS,GAAG,IAAI,CAAC;YAEnC,MAAM,CAAC,IAAA,wBAAgB,EAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,mBAAmB,EAAE;QAC5B,EAAE,CAAC,uBAAuB,EAAE;YAC1B,MAAM,CAAC,IAAA,wBAAgB,EAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,8BAA8B,EAAE;YACjC,IAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAExC,MAAM,CAAC,IAAA,yBAAiB,EAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,mCAAmC,EAAE;YACtC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAE9C,MAAM,CAAC,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YAExC,MAAM,CAAC,IAAA,yBAAiB,EAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yBAAyB,EAAE;YAC5B,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAE9C,MAAM,CAAC,IAAA,yBAAiB,EAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yBAAyB,EAAE;YAC5B,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAEzC,MAAM,CAAC,IAAA,yBAAiB,EAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gCAAgC,EAAE;YACnC,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAE5C,MAAM,CAAC,IAAA,yBAAiB,EAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,iCAAiC,EAAE;YACpC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAE9C,MAAM,CAAC,IAAA,yBAAiB,EAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,mCAAmC,EAAE;YACtC,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;YAElD,MAAM,CAAC,IAAA,yBAAiB,EAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,0BAA0B,EAAE;YAC7B,IAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAExC,GAAG,CAAC,QAAQ,GAAG,CAAC,CAAC;YAEjB,MAAM,CAAC,IAAA,yBAAiB,EAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,qCAAqC,EAAE;YACxC,IAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAExC,GAAG,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YAEnC,MAAM,CAAC,IAAA,yBAAiB,EAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,iDAAiD,EAAE;YACpD,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAE9C,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;YACtC,MAAM,CAAC,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YAExC,MAAM,CAAC,IAAA,yBAAiB,EAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gCAAgC,EAAE;YACnC,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAE9C,MAAM,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC;YAErB,MAAM,CAAC,IAAA,yBAAiB,EAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,YAAY,EAAE;QACrB,IAAI,aAAsC,CAAC;QAC3C,SAAS,CAAC;YACR,IAAI,aAAa,EAAE;gBACjB,QAAQ,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;gBAC/C,aAAa,CAAC,MAAM,EAAE,CAAC;gBACvB,aAAa,GAAG,SAAS,CAAC;aAC3B;QACH,CAAC,CAAC,CAAC;QAEH,SAAS,CAAC;YACR,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC;YACP,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sCAAsC,EAAE;YACzC,aAAa,GAAG,IAAA,oCAAmB,GAAE,CAAC;YAEtC,IAAM,SAAS,GAAG,kBAAkB,CAClC;gBACE,gCAAQ,SAAS,EAAC,GAAG,QAAW;gBAChC,gCAAQ,SAAS,EAAC,GAAG,QAAW;gBAChC,gCAAQ,SAAS,EAAC,GAAG,QAAW,CAC5B,EACN,aAAa,CACd,CAAC;YAEF,IAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,CAAgB,CAAC;YAC7D,IAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,CAAgB,CAAC;YAC7D,IAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,CAAgB,CAAC;YAE7D,0BAA0B;YAC1B,IAAA,kBAAU,EAAC,OAAO,CAAC,CAAC;YACpB,MAAM,CAAC,qBAAqB,CAAC;gBAC3B,MAAM,CAAC,SAAS,CAAC,aAAc,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAE7D,gEAAgE;gBAChE,IAAA,kBAAU,EAAC,OAAO,CAAC,CAAC;gBACpB,IAAA,kBAAU,EAAC,OAAO,CAAC,CAAC;gBACpB,MAAM,CAAC,qBAAqB,CAAC;oBAC3B,MAAM,CAAC,SAAS,CAAC,aAAc,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC/D,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gDAAgD,EAAE;YACnD,IAAI,WAAW,GAAG,KAAK,CAAC;YACxB,IAAM,aAAa,GAAG;gBACpB,aAAa,EAAE,EAAE;gBACjB,KAAK,EAAE,cAAM,OAAA,CAAC,WAAW,GAAG,IAAI,CAAC,EAApB,CAAoB;aAClC,CAAC;YAEF,IAAA,kBAAU,EAAC,aAAa,CAAC,CAAC;YAC1B,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,MAAM,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,yBAAyB,EAAE;QAClC,EAAE,CAAC,oBAAoB,EAAE;YACvB,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAE7C,MAAM,CAAC,SAAS,GAAG,2LASlB,CAAC;YAEF,IAAM,KAAK,GAAG,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAgB,CAAC;YAE5D,MAAM,CAAC,IAAA,+BAAuB,EAAC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yBAAyB,EAAE;YAC5B,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAE7C,MAAM,CAAC,SAAS,GAAG,4LASlB,CAAC;YAEF,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAgB,CAAC;YAE9C,MAAM,CAAC,IAAA,+BAAuB,EAAC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,oCAAoC,EAAE;YACvC,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAE7C,MAAM,CAAC,SAAS,GAAG,iKAQlB,CAAC;YAEF,IAAM,KAAK,GAAG,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAgB,CAAC;YAE5D,MAAM,CAAC,IAAA,+BAAuB,EAAC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC7E,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,qBAAqB,EAAE;QAC9B,EAAE,CAAC,gBAAgB,EAAE;YACnB,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAE7C,MAAM,CAAC,SAAS,GAAG,uLAShB,CAAC;YAEJ,IAAM,KAAK,GAAG,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAgB,CAAC;YAE5D,MAAM,CAAC,IAAA,2BAAmB,EAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6BAA6B,EAAE;YAChC,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAE7C,MAAM,CAAC,IAAA,2BAAmB,EAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,kBAAkB,EAAE;QAC3B,IAAI,aAAsC,CAAC;QAC3C,SAAS,CAAC;YACR,IAAI,aAAa,EAAE;gBACjB,QAAQ,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;gBAC/C,aAAa,CAAC,MAAM,EAAE,CAAC;gBACvB,aAAa,GAAG,SAAS,CAAC;aAC3B;QACH,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,mCAAmC,EAAE;YACtC,aAAa,GAAG,IAAA,oCAAmB,GAAE,CAAC;YACtC,IAAM,SAAS,GAAG,kBAAkB,CAClC;gBACE,6BAAK,SAAS,EAAC,QAAQ;oBACrB,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,QAElC;oBACT,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,QAElC;oBACT,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,QAElC,CACL,CACF,EACN,aAAa,CACd,CAAC;YAEF,IAAM,MAAM,GAAG,SAAS,CAAC,aAAa,CAAC,SAAS,CAAgB,CAAC;YACjE,IAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,CAAgB,CAAC;YAC7D,IAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,CAAgB,CAAC;YAE7D,MAAM,CAAC,IAAA,wBAAgB,EAAC,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC1E,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,+CAA+C,EAAE;YAClD,aAAa,GAAG,IAAA,oCAAmB,GAAE,CAAC;YACtC,IAAM,SAAS,GAAG,kBAAkB,CAClC;gBACE,6BAAK,SAAS,EAAC,QAAQ;oBACrB,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC,QAEhD;oBACT,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC,QAEhD;oBACT,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC,QAEhD,CACL,CACF,EACN,aAAa,CACd,CAAC;YAEF,IAAM,MAAM,GAAG,SAAS,CAAC,aAAa,CAAC,SAAS,CAAgB,CAAC;YACjE,IAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,CAAgB,CAAC;YAE7D,MAAM,CAAC,IAAA,wBAAgB,EAAC,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,iBAAiB,EAAE;QAC1B,IAAI,aAAsC,CAAC;QAC3C,SAAS,CAAC;YACR,IAAI,aAAa,EAAE;gBACjB,QAAQ,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;gBAC/C,aAAa,CAAC,MAAM,EAAE,CAAC;gBACvB,aAAa,GAAG,SAAS,CAAC;aAC3B;QACH,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,mCAAmC,EAAE;YACtC,aAAa,GAAG,IAAA,oCAAmB,GAAE,CAAC;YACtC,IAAM,SAAS,GAAG,kBAAkB,CAClC;gBACE,6BAAK,SAAS,EAAC,QAAQ;oBACrB,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,QAElC;oBACT,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,QAElC;oBACT,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,QAElC,CACL,CACF,EACN,aAAa,CACd,CAAC;YAEF,IAAM,MAAM,GAAG,SAAS,CAAC,aAAa,CAAC,SAAS,CAAgB,CAAC;YACjE,IAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,CAAgB,CAAC;YAC7D,IAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,CAAgB,CAAC;YAE7D,MAAM,CAAC,IAAA,uBAAe,EAAC,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACzE,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,+CAA+C,EAAE;YAClD,aAAa,GAAG,IAAA,oCAAmB,GAAE,CAAC;YACtC,IAAM,SAAS,GAAG,kBAAkB,CAClC;gBACE,6BAAK,SAAS,EAAC,QAAQ;oBACrB,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC,QAEhD;oBACT,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC,QAEhD;oBACT,gCAAQ,SAAS,EAAC,GAAG,qBAAkB,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC,QAEhD,CACL,CACF,EACN,aAAa,CACd,CAAC;YAEF,IAAM,MAAM,GAAG,SAAS,CAAC,aAAa,CAAC,SAAS,CAAgB,CAAC;YACjE,IAAM,OAAO,GAAG,SAAS,CAAC,aAAa,CAAC,IAAI,CAAgB,CAAC;YAE7D,MAAM,CAAC,IAAA,uBAAe,EAAC,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACtE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC","sourcesContent":["import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { createTestContainer } from '@fluentui/test-utilities';\n\nimport {\n  isElementVisible,\n  isElementTabbable,\n  focusAsync,\n  getElementIndexPath,\n  getFirstTabbable,\n  getFocusableByIndexPath,\n  getLastTabbable,\n} from './focus';\n\nfunction renderIntoDocument(element: React.ReactElement<{}>, container: HTMLElement): HTMLElement {\n  const component = ReactDOM.render(element, container) as React.ReactInstance;\n  const renderedDOM = ReactDOM.findDOMNode(component) as HTMLElement;\n\n  return renderedDOM;\n}\n\ndescribe('isElementVisible', () => {\n  let testContainer: HTMLElement | undefined;\n\n  afterEach(() => {\n    if (testContainer) {\n      ReactDOM.unmountComponentAtNode(testContainer);\n      testContainer.remove();\n      testContainer = undefined;\n    }\n  });\n\n  it('returns false if data-is-visible is false', () => {\n    testContainer = createTestContainer();\n\n    const _hiddenElement = renderIntoDocument(\n      <div data-is-visible={false}>\n        <button />\n      </div>,\n      testContainer,\n    ) as HTMLElement;\n\n    expect(isElementVisible(_hiddenElement)).toEqual(false);\n  });\n\n  it('returns true if data-is-visible is true', () => {\n    testContainer = createTestContainer();\n    const _visibleElement = renderIntoDocument(\n      <div data-is-visible={true}>\n        <button />\n      </div>,\n      testContainer,\n    ) as HTMLElement;\n\n    expect(isElementVisible(_visibleElement)).toEqual(true);\n  });\n\n  it('returns true if data-is-visible is undefined but element is visible', () => {\n    testContainer = createTestContainer();\n\n    const _element = renderIntoDocument(\n      <div>\n        <button />\n      </div>,\n      testContainer,\n    ) as HTMLElement;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (_element as any).isVisible = true;\n\n    expect(isElementVisible(_element)).toEqual(true);\n  });\n});\n\ndescribe('isElementTabbable', () => {\n  it('returns false on null', () => {\n    expect(isElementVisible(null)).toEqual(false);\n  });\n\n  it('returns false on normal divs', () => {\n    let div = document.createElement('div');\n\n    expect(isElementTabbable(div)).toEqual(false);\n  });\n\n  it('returns false on disabled buttons', () => {\n    let button = document.createElement('button');\n\n    button.setAttribute('disabled', 'true');\n\n    expect(isElementTabbable(button)).toEqual(false);\n  });\n\n  it('returns true on buttons', () => {\n    let button = document.createElement('button');\n\n    expect(isElementTabbable(button)).toEqual(true);\n  });\n\n  it('returns true on anchors', () => {\n    let anchor = document.createElement('a');\n\n    expect(isElementTabbable(anchor)).toEqual(true);\n  });\n\n  it('returns true on input elements', () => {\n    let input = document.createElement('input');\n\n    expect(isElementTabbable(input)).toEqual(true);\n  });\n\n  it('returns true on select elements', () => {\n    let select = document.createElement('select');\n\n    expect(isElementTabbable(select)).toEqual(true);\n  });\n\n  it('returns true on textarea elements', () => {\n    let textarea = document.createElement('textarea');\n\n    expect(isElementTabbable(textarea)).toEqual(true);\n  });\n\n  it('works with tabbable divs', () => {\n    let div = document.createElement('div');\n\n    div.tabIndex = 0;\n\n    expect(isElementTabbable(div)).toEqual(true);\n  });\n\n  it('returns false with role=button divs', () => {\n    let div = document.createElement('div');\n\n    div.setAttribute('role', 'button');\n\n    expect(isElementTabbable(div)).toEqual(false);\n  });\n\n  it('returns false with role=button disabled buttons', () => {\n    let button = document.createElement('button');\n\n    button.setAttribute('role', 'button');\n    button.setAttribute('disabled', 'true');\n\n    expect(isElementTabbable(button)).toEqual(false);\n  });\n\n  it('returns false with -1 tabIndex', () => {\n    let button = document.createElement('button');\n\n    button.tabIndex = -1;\n\n    expect(isElementTabbable(button, true)).toEqual(false);\n  });\n});\n\ndescribe('focusAsync', () => {\n  let testContainer: HTMLElement | undefined;\n  afterEach(() => {\n    if (testContainer) {\n      ReactDOM.unmountComponentAtNode(testContainer);\n      testContainer.remove();\n      testContainer = undefined;\n    }\n  });\n\n  beforeAll(() => {\n    jest.useFakeTimers();\n  });\n\n  afterAll(() => {\n    jest.useRealTimers();\n  });\n\n  it('focuses on an item on the next frame', () => {\n    testContainer = createTestContainer();\n\n    const container = renderIntoDocument(\n      <div>\n        <button className=\"a\">a</button>\n        <button className=\"b\">b</button>\n        <button className=\"c\">c</button>\n      </div>,\n      testContainer,\n    );\n\n    const buttonA = container.querySelector('.a') as HTMLElement;\n    const buttonB = container.querySelector('.b') as HTMLElement;\n    const buttonC = container.querySelector('.c') as HTMLElement;\n\n    // Focus the first button.\n    focusAsync(buttonA);\n    window.requestAnimationFrame(() => {\n      expect(container.ownerDocument!.activeElement).toBe(buttonA);\n\n      // Focus the second button, then the third before the next frame\n      focusAsync(buttonB);\n      focusAsync(buttonC);\n      window.requestAnimationFrame(() => {\n        expect(container.ownerDocument!.activeElement).toBe(buttonC);\n      });\n    });\n\n    jest.runAllTimers();\n  });\n\n  it('can focus a component which implements focus()', () => {\n    let calledFocus = false;\n    const fakeComponent = {\n      ownerDocument: {},\n      focus: () => (calledFocus = true),\n    };\n\n    focusAsync(fakeComponent);\n    jest.runAllTimers();\n    expect(calledFocus).toEqual(true);\n  });\n});\n\ndescribe('getFocusableByIndexPath', () => {\n  it('can recover a path', () => {\n    const parent = document.createElement('div');\n\n    parent.innerHTML = `\n      <div>\n        <div></div>\n        <div></div>\n        <div>\n          <div></div>\n          <button id='child' data-is-visible='true' />\n        </div>\n      </div>\n    `;\n\n    const child = parent.querySelector('#child') as HTMLElement;\n\n    expect(getFocusableByIndexPath(parent, [0, 2, 1])).toEqual(child);\n  });\n\n  it('ignores hidden elements', () => {\n    const parent = document.createElement('div');\n\n    parent.innerHTML = `\n      <div>\n        <div></div>\n        <div></div>\n        <div>\n          <div></div>\n          <button id='child' data-is-visible='false' />\n        </div>\n      </div>\n    `;\n\n    parent.querySelector('#child') as HTMLElement;\n\n    expect(getFocusableByIndexPath(parent, [0, 2, 1])).toEqual(null);\n  });\n\n  it('can fallback to a previous element', () => {\n    const parent = document.createElement('div');\n\n    parent.innerHTML = `\n      <div>\n        <button id='child' data-is-visible='true'>\n          <div>\n            <div/>\n          </div>\n        </button>\n      </div>\n    `;\n\n    const child = parent.querySelector('#child') as HTMLElement;\n\n    expect(getFocusableByIndexPath(parent, [0, 0, 0, 0, 0, 0])).toEqual(child);\n  });\n});\n\ndescribe('getElementIndexPath', () => {\n  it('can get a path', () => {\n    const parent = document.createElement('div');\n\n    parent.innerHTML = `\n        <div>\n          <div></div>\n          <div></div>\n          <div>\n            <div></div>\n            <div id='child'></div>\n          </div>\n        </div>\n      `;\n\n    const child = parent.querySelector('#child') as HTMLElement;\n\n    expect(getElementIndexPath(parent, child)).toEqual([0, 2, 1]);\n  });\n\n  it('can handle the same element', () => {\n    const parent = document.createElement('div');\n\n    expect(getElementIndexPath(parent, parent)).toEqual([]);\n  });\n});\n\ndescribe('getFirstTabbable', () => {\n  let testContainer: HTMLElement | undefined;\n  afterEach(() => {\n    if (testContainer) {\n      ReactDOM.unmountComponentAtNode(testContainer);\n      testContainer.remove();\n      testContainer = undefined;\n    }\n  });\n\n  it('focuses on the next tabbable item', () => {\n    testContainer = createTestContainer();\n    const container = renderIntoDocument(\n      <div>\n        <div className=\"parent\">\n          <button className=\"a\" data-is-visible={true}>\n            a\n          </button>\n          <button className=\"b\" data-is-visible={true}>\n            b\n          </button>\n          <button className=\"c\" data-is-visible={true}>\n            c\n          </button>\n        </div>\n      </div>,\n      testContainer,\n    );\n\n    const parent = container.querySelector('.parent') as HTMLElement;\n    const buttonA = container.querySelector('.a') as HTMLElement;\n    const buttonB = container.querySelector('.b') as HTMLElement;\n\n    expect(getFirstTabbable(parent, buttonA, true, false)).toEqual(buttonB);\n  });\n\n  it('does not focus on an item with tabIndex of -1', () => {\n    testContainer = createTestContainer();\n    const container = renderIntoDocument(\n      <div>\n        <div className=\"parent\">\n          <button className=\"a\" data-is-visible={true} tabIndex={-1}>\n            a\n          </button>\n          <button className=\"b\" data-is-visible={true} tabIndex={-1}>\n            b\n          </button>\n          <button className=\"c\" data-is-visible={true} tabIndex={-1}>\n            c\n          </button>\n        </div>\n      </div>,\n      testContainer,\n    );\n\n    const parent = container.querySelector('.parent') as HTMLElement;\n    const buttonA = container.querySelector('.a') as HTMLElement;\n\n    expect(getFirstTabbable(parent, buttonA, true, false)).toEqual(null);\n  });\n});\n\ndescribe('getLastTabbable', () => {\n  let testContainer: HTMLElement | undefined;\n  afterEach(() => {\n    if (testContainer) {\n      ReactDOM.unmountComponentAtNode(testContainer);\n      testContainer.remove();\n      testContainer = undefined;\n    }\n  });\n\n  it('focuses on the last tabbable item', () => {\n    testContainer = createTestContainer();\n    const container = renderIntoDocument(\n      <div>\n        <div className=\"parent\">\n          <button className=\"a\" data-is-visible={true}>\n            a\n          </button>\n          <button className=\"b\" data-is-visible={true}>\n            b\n          </button>\n          <button className=\"c\" data-is-visible={true}>\n            c\n          </button>\n        </div>\n      </div>,\n      testContainer,\n    );\n\n    const parent = container.querySelector('.parent') as HTMLElement;\n    const buttonB = container.querySelector('.b') as HTMLElement;\n    const buttonC = container.querySelector('.c') as HTMLElement;\n\n    expect(getLastTabbable(parent, buttonC, true, false)).toEqual(buttonB);\n  });\n\n  it('does not focus on an item with tabIndex of -1', () => {\n    testContainer = createTestContainer();\n    const container = renderIntoDocument(\n      <div>\n        <div className=\"parent\">\n          <button className=\"a\" data-is-visible={true} tabIndex={-1}>\n            a\n          </button>\n          <button className=\"b\" data-is-visible={true} tabIndex={-1}>\n            b\n          </button>\n          <button className=\"c\" data-is-visible={true} tabIndex={-1}>\n            c\n          </button>\n        </div>\n      </div>,\n      testContainer,\n    );\n\n    const parent = container.querySelector('.parent') as HTMLElement;\n    const buttonC = container.querySelector('.c') as HTMLElement;\n\n    expect(getLastTabbable(parent, buttonC, true, false)).toEqual(null);\n  });\n});\n"]}