<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Charting-Concepts/SankeyChart" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Sankey Chart | FluentUI Charting Contrib Docsite</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://microsoft.github.io/fluentui-charting-contrib/img/fluent-charting-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://microsoft.github.io/fluentui-charting-contrib/img/fluent-charting-social-card.jpg"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/fluentui-charting-contrib/docs/Charting-Concepts/SankeyChart"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Sankey Chart | FluentUI Charting Contrib Docsite"><meta data-rh="true" name="description" content="Sankey charts are a type of data visualization that are particularly useful for showing the flow of resources, energy, or information through a system. They are characterized by their flowing, interconnected arrows that represent the quantity or value of something as it moves from one stage or category to another."><meta data-rh="true" property="og:description" content="Sankey charts are a type of data visualization that are particularly useful for showing the flow of resources, energy, or information through a system. They are characterized by their flowing, interconnected arrows that represent the quantity or value of something as it moves from one stage or category to another."><link data-rh="true" rel="icon" href="/fluentui-charting-contrib/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/fluentui-charting-contrib/docs/Charting-Concepts/SankeyChart"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/fluentui-charting-contrib/docs/Charting-Concepts/SankeyChart" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/fluentui-charting-contrib/docs/Charting-Concepts/SankeyChart" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XZ2D9M7V2V-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="FluentUI Charting Contrib Docsite" href="/fluentui-charting-contrib/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/fluentui-charting-contrib/assets/css/styles.01357342.css">
<script src="/fluentui-charting-contrib/assets/js/runtime~main.f5e943f7.js" defer="defer"></script>
<script src="/fluentui-charting-contrib/assets/js/main.fc172642.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fluentui-charting-contrib/"><div class="navbar__logo"><img src="/fluentui-charting-contrib/img/microsoft.png" alt="FluentUI Charting Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/fluentui-charting-contrib/img/microsoft.png" alt="FluentUI Charting Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">FluentUI Charting</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/fluentui-charting-contrib/docs/Overview">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/fluentui-charting-contrib" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fluentui-charting-contrib/docs/changelogSplits/5.24">Changelog</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Start Developing">Start Developing</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/fluentui-charting-contrib/docs/Contributor Guide">Contributor Guide</a><button aria-label="Collapse sidebar category &#x27;Contributor Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/AreaChart">Area Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/DonutChart">Donut Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/GaugeChart">Gauge Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/GroupedVerticalBarChart">Grouped Vertical Bar Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/HeatMapChart">Heatmap Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/HorizontalBarChart">Horizontal Bar Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/LineChart">Line Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/SankeyChart">Sankey Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/SparklineChart">Sparkline Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/StackedBarChart">Stacked Bar Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/VerticalBarChart">Vertical Bar Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/VerticalStackedBarChart">Vertical Stacked Bar Chart</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Technical Details">Technical details</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Detailed Implementation Steps">Detailed Implementation Steps</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fluentui-charting-contrib/docs/ChartingExamples/VerticalBarChartExample">Examples</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Debugging">Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Implementation Best Practices">Implementation Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Accessibility">Accessibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/colors">Colors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/implementing-2-to-1-spacing">Implementing 2:1 spacing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/creating-date-objects-for-chart-data">Creating Date Objects For Chart Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Testing Strategy">Testing Strategy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/TestCoverage">Test Coverage Report</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fluentui-charting-contrib/docs/Test Plans/AreaChart/ComponentTests">Test Plans</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Testing Unpublished Library Version">Testing Unpublished Library Version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/BundleSize">Bundle Size</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fluentui-charting-contrib/docs/rfcs/fix-2-to-1-spacing">RFCs</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/fluentui-charting-contrib/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/fluentui-charting-contrib/docs/Contributor Guide"><span itemprop="name">Contributor Guide</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Sankey Chart</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Sankey Chart</h1>
<p>Sankey charts are a type of data visualization that are particularly useful for showing the flow of resources, energy, or information through a system. They are characterized by their flowing, interconnected arrows that represent the quantity or value of something as it moves from one stage or category to another.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use cases:<a href="#use-cases" class="hash-link" aria-label="Direct link to Use cases:" title="Direct link to Use cases:">​</a></h2>
<p>Sankey charts are used for various use cases which involve Energy Flows, Material Flow Analysis, Website User Flow, Customer Journey Mapping, Water Usage and Conservation, Financial Flows, Environmental Impact, Project Management etc.</p>
<p>###Fluent Sankey charts offer various functionalities, including node descriptions, diverse hover actions triggered when interacting with nodes and links.</p>
<p><img loading="lazy" alt="image.png" src="/fluentui-charting-contrib/assets/images/SankeyChartPic1-21938ac4624ca9c0b2e7a81642895f54.png" width="1210" height="728" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dev-design-details">Dev Design details<a href="#dev-design-details" class="hash-link" aria-label="Direct link to Dev Design details" title="Direct link to Dev Design details">​</a></h2>
<p>Following are the major components that contribute towards creating a complete Sankey Chart</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-nodes">1. Nodes<a href="#1-nodes" class="hash-link" aria-label="Direct link to 1. Nodes" title="Direct link to 1. Nodes">​</a></h3>
<p>In a Sankey chart, &quot;nodes&quot; represent the distinct categories or stages within a system where resources, energy, or information flow. These nodes are usually depicted as rectangles or blocks, and they are interconnected by arrows or lines that indicate the flow between them. Each node represents a specific entity or group, and the width of the arrows or lines is proportional to the quantity or value of what is flowing from one node to another.
_createNodes() is used for creating Sankey nodes .This function creates an array of React nodes based on the SankeyChartData property of the data object passed in as a prop. For each node in the SankeyChartData.nodes array, the method calculates the height of the node based on the difference between the y1 and y0 properties of the node. If the height is less than a certain minimum height, an extra padding of 6 pixels is added between the node description and the node weight. The method then truncates the node name to fit within the available space, and creates a tooltip with the full node name.The method then creates a React node for the current node, which consists of a rectangle and two text elements. The rectangle is positioned based on the x0, y0, x1, and y1 properties of the node, and is filled with a color based on the fillNodeColors method. The rectangle also has event handlers for mouseover, mouseout, and focus events.The two text elements are positioned based on the height of the node and the length of the node weight text. The first text element contains the  node name, and the second text element contains the node weight. Both text elements have event handlers for mouseover and mouseout events that show and hide the tooltip, respectively.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2links">2.Links<a href="#2links" class="hash-link" aria-label="Direct link to 2.Links" title="Direct link to 2.Links">​</a></h3>
<p>In a Sankey chart, &quot;links&quot; represent the connections or flows of resources, energy, or information between nodes. Links are typically depicted as lines or arrows that connect one node to another, indicating the quantity or value of what is flowing from the source node to the target node. Here are some key characteristics of links in Sankey charts:</p>
<ul>
<li>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="flow-direction">Flow Direction<a href="#flow-direction" class="hash-link" aria-label="Direct link to Flow Direction" title="Direct link to Flow Direction">​</a></h4>
</li>
</ul>
<p>Links have a direction, moving from a source node to a target node. The direction of the link illustrates how resources or information is flowing within the system.</p>
<ul>
<li>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="width">Width<a href="#width" class="hash-link" aria-label="Direct link to Width" title="Direct link to Width">​</a></h4>
</li>
</ul>
<p>The width of the link is proportional to the quantity or value of the flow it represents. Wider links indicate larger flows, while narrower links represent smaller flows.</p>
<ul>
<li>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="color">Color<a href="#color" class="hash-link" aria-label="Direct link to Color" title="Direct link to Color">​</a></h4>
</li>
</ul>
<p>Links can be colored to provide additional information or to differentiate between different types of flows or categories. For example, different colors might represent different materials, energy sources, or information types.</p>
<ul>
<li>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="interactivity">Interactivity<a href="#interactivity" class="hash-link" aria-label="Direct link to Interactivity" title="Direct link to Interactivity">​</a></h4>
</li>
</ul>
<p>In some Sankey charts, links can be interactive. For instance, hovering over a link may display additional information, such as the exact value of the flow or other related data.</p>
<p>Links are created using createLInks() function. The method takes no arguments. For each link, the method creates a linear gradient that goes from the color of the source node to the color of the target node. The method then calculates the data points for the link area using the <code>data</code> function, which takes a single link object and returns an array of two points that define the shape of the link. the <code>d3CurveBasis</code> curve type to create a smooth curve for the link area. The method then creates a React node for the link, which consists of a <code>path</code> element that uses the link area to define its shape. The <code>path</code> element is filled with the linear gradient created earlier, and has a stroke color and width that are determined by the<code>_fillStreamBorder</code> and <code>_getOpacityStreamBorder</code> methods, respectively.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mathematicalgeometrical-concepts">Mathematical/Geometrical concepts<a href="#mathematicalgeometrical-concepts" class="hash-link" aria-label="Direct link to Mathematical/Geometrical concepts" title="Direct link to Mathematical/Geometrical concepts">​</a></h2>
<p><a href="https://github.com/d3/d3-sankey" target="_blank" rel="noopener noreferrer">d3-sankey</a> is a JavaScript library that extends the capabilities of the popular data visualization library D3.js to create Sankey charts easily. The primary role of <a href="https://github.com/d3/d3-sankey" target="_blank" rel="noopener noreferrer">d3-sankey</a> in creating Sankey charts is to simplify the process of generating these complex diagrams by providing a set of functions and methods tailored specifically for Sankey diagrams.
The _preRenderLayout method initializes a d3Sankey object that is used to calculate the layout of the Sankey diagram. The d3Sankey object is configured with various properties, such as the width of the nodes, the extent of the diagram, and the alignment of the nodes.The d3Sankey object is then used to calculate the layout of the Sankey diagram in the _createNodes and _createLinks methods. The d3Sankey object takes in the nodes and links arrays and calculates the positions of the nodes and the paths of the links based on the properties of the nodes and links.
•	Nodes will contain an array of node objects, each with properties like name, x0, x1, y0, and y1.
•	Links will contain an array of link objects, each with properties like source, target, and value.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-node-padding-in-fluent-sankey-chart">Dynamic node padding in Fluent Sankey chart<a href="#dynamic-node-padding-in-fluent-sankey-chart" class="hash-link" aria-label="Direct link to Dynamic node padding in Fluent Sankey chart" title="Direct link to Dynamic node padding in Fluent Sankey chart">​</a></h3>
<p>We have also introduced dynamic padding concept for Sankey charts .This is used for cases where the number of nodes in a column is huge.so that we maintain a node to space ratio for such columns as if we fail to do so the chart is devoid of nodes and only shows links. See the code for dynamic at <a href="https://github.com/microsoft/fluentui/blob/f9ef593dd07abb0341e7be09f60cb841d577135d/packages/react-charting/src/components/SankeyChart/SankeyChart.base.tsx#L295" target="_blank" rel="noopener noreferrer">githublink</a>. This is necessary because D3 Sankey reduces the node height when there are more nodes within a constrained chart height while maintaining the same node padding as specified.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-height-of-the-node-for-fluent-sankey-charts-will-be-1-of-the-total-column-height">Minimum height of the node for Fluent Sankey charts will be 1% of the total column height.<a href="#minimum-height-of-the-node-for-fluent-sankey-charts-will-be-1-of-the-total-column-height" class="hash-link" aria-label="Direct link to Minimum height of the node for Fluent Sankey charts will be 1% of the total column height." title="Direct link to Minimum height of the node for Fluent Sankey charts will be 1% of the total column height.">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h2>
<p>The performance aspect of a  chart refers to how efficiently and effectively it conveys information to the viewer. Here are some key considerations regarding the performance of a area chart:</p>
<ul>
<li>Data Visualization Efficiency</li>
<li>Clarity and Simplicity</li>
<li>Responsiveness</li>
<li>Handling Large Datasets</li>
<li>Interactive Features</li>
</ul>
<p>We use Lighthouse tool for measuring the performance of our charts. Currently we are working on improving the  performance . We are currently working on improving 3 of the performance lighthouse metrics FCP, TBT, TTI.
The current implementation of the Sankey chart  is already performing well. However, as part of our future plans, we aim to assess the Lighthouse performance score, particularly when dealing with extensive datasets for the chart. We are committed to enhancing the performance further by identifying and capitalizing on any opportunities for improvement that may arise.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="accessibility">Accessibility<a href="#accessibility" class="hash-link" aria-label="Direct link to Accessibility" title="Direct link to Accessibility">​</a></h2>
<p>Chart <code>&lt;svg&gt;</code>The role is set as presentation, and the aria-label attribute is set as a string to describe its contents. This is readable by screen reader if user has given chartTitle prop
Horizontal bar chart  provides a bunch of props to enable custom accessibility messages. UsexAxisCalloutAccessibilityData and callOutAccessibilityData to configure x axis and y axis accessibility messages respectively.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="variants">Variants<a href="#variants" class="hash-link" aria-label="Direct link to Variants" title="Direct link to Variants">​</a></h2>
<p>Different variants of Sankey chart are available at below location:
<a href="https://developer.microsoft.com/en-us/fluentui#/controls/web/sankeychart" target="_blank" rel="noopener noreferrer">Fluent UI React Charting Examples - Sankey Charts</a>
The Variants in the above consisting of different functionalities:</p>
<ul>
<li>Nodes can have customized colors, or else the default colors will be assigned. The node border also follows the same approach.</li>
<li>The color of links depends on the action taken on the chart. In the default state, the link color is grey. However, when hovering over the link, it transitions into a gradient between the source and target nodes, creating a visually appealing effect.
<img loading="lazy" alt="image.png" src="/fluentui-charting-contrib/assets/images/SankeyChartPic2-f8b20217db956a3f15db72749f483f96.png" width="1164" height="444" class="img_ev3q"></li>
<li>The details inside nodes, such as node name and weight, depend on the size of the node. If the node&#x27;s height is less than 24px, no details will appear inside the node. This is because with such limited width, reading any details within the node becomes challenging. We will cover an alternative method for accessing this information in the interaction section of the contributor guide.
<img loading="lazy" alt="image.png" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAAAwCAYAAAAvvfcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAHYcAAB2HAY/l8WUAAABfaVRYdFNuaXBNZXRhZGF0YQAAAAAAeyJjbGlwUG9pbnRzIjpbeyJ4IjowLCJ5IjowfSx7IngiOjIzOSwieSI6MH0seyJ4IjoyMzksInkiOjQ3fSx7IngiOjAsInkiOjQ3fV19jVsYmgAAAjdJREFUeF7t3c1qE1EYh/F3JnZrKdoplmiySqyIrqRgaBFlaKgrpYuKbrqpS115Bd6D9+JGdOtGdNMvreIHkhYqtYFUOhPPmQyl2ya1zD8+P3jJIZPVwJMZknASdB0DICdwwnwNQBABA8IIGBBGwIAwAgaEETAgjIABYQQMCCNgQBgBA8Jkf0r541vLnj97YR/XvtrIyJn8WaCIAjddS5LUZuau2fStKfPZ+YnjuPeSPvifUsoHvLH6xcbOjtvEWNWdpt6JAgojCKzzp23ft9ezgO8uNOz+o/gw4HK5nL/w+IYi4PWVzzY5XrUrlZtWCkouXwJGcbjEbOd3y959emXJQerivWPLTxbzo4MZmoAvnK/Y5UvTBIzC8QH/2tuy95tvsoDvPbxtj58+yI8OxvfLh1iAMAIGhBEwIIyAAWEEDAgjYEAYAQPCCBgQRsCAMAIGhBEwIIyAAWEEDAgjYEAYAQPCCBgQRsCAMAIGhBEwIGwoAva7UYZhiWGKOUd2rvJ7ZJ2kodhW9tzohJWjuns34oYCBeN6bXd2bfPnh2xTu/mFhi0uzecHzaIoylfH5ze1Y2N34JT4faEb8VW7MVvP9oT2ms1m9tgP36/sJcufgDRNrZv6x96aYYo6SZJk49dh6O4V8xmU7BV4u7Vjr1++tb3dtgUncCKAfyVJDmy/s2+pS+1iNbL69crhH4jUarXeog/St9DA/076FhoA3wMD0ggYEEbAgDACBoQRMCCMgAEAOH1mfwGdx7oHd1aLQgAAAABJRU5ErkJggg==" width="240" height="48" class="img_ev3q"></li>
<li>There are two ways to display the node name and weight. To have the node name and weight displayed on two separate lines, a minimum height of 36px is required.
<img loading="lazy" alt="image.png" src="/fluentui-charting-contrib/assets/images/SankeyChartPic4-94529d27a2a3b60dc3a8eb5bbe3da5c6.png" width="898" height="210" class="img_ev3q"></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="error-scenarios">Error scenarios<a href="#error-scenarios" class="hash-link" aria-label="Direct link to Error scenarios" title="Direct link to Error scenarios">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chart-is-not-rendered-properly-if-for-a-link-source-and-target-node-will-be-same">Chart is not rendered properly if for a link source and target node will be same.<a href="#chart-is-not-rendered-properly-if-for-a-link-source-and-target-node-will-be-same" class="hash-link" aria-label="Direct link to Chart is not rendered properly if for a link source and target node will be same." title="Direct link to Chart is not rendered properly if for a link source and target node will be same.">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="chart-is-not-rendered-properly-if-consistent-names--are-not-used-properly-while-configuring-links">Chart is not rendered properly if consistent names  are not used properly while configuring links.<a href="#chart-is-not-rendered-properly-if-consistent-names--are-not-used-properly-while-configuring-links" class="hash-link" aria-label="Direct link to Chart is not rendered properly if consistent names  are not used properly while configuring links." title="Direct link to Chart is not rendered properly if consistent names  are not used properly while configuring links.">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-chart-cannot-be-loaded-because-of-one-or-more-reasons">The chart cannot be loaded because of one or more reasons:<a href="#the-chart-cannot-be-loaded-because-of-one-or-more-reasons" class="hash-link" aria-label="Direct link to The chart cannot be loaded because of one or more reasons:" title="Direct link to The chart cannot be loaded because of one or more reasons:">​</a></h3>
<ul>
<li>Empty data passed such that chart does not have visual to show.</li>
<li>One of the datapoint passed to the chart is corrupted. The corrupted datapoint can be for a continuous chart like line or area, or a discrete chart like bar chart, donut chart.</li>
<li>The type of data passed to the chart is not supported.</li>
<li>The user has not provided the required property.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-chart-is-in-a-loading-state-because-of-one-or-more-reasons-below">The chart is in a loading state because of one or more reasons below.<a href="#the-chart-is-in-a-loading-state-because-of-one-or-more-reasons-below" class="hash-link" aria-label="Direct link to The chart is in a loading state because of one or more reasons below." title="Direct link to The chart is in a loading state because of one or more reasons below.">​</a></h3>
<ul>
<li>The chart data is too heavy.</li>
<li>Chart is waiting for data from a webservice.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extremely-high-density">Extremely high density:<a href="#extremely-high-density" class="hash-link" aria-label="Direct link to Extremely high density:" title="Direct link to Extremely high density:">​</a></h3>
<p>The number of nodes  in the chart are more considering the height and width of the canvas provided.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="some-notable-prs-and-their-brief-description">Some notable PRs and their brief description<a href="#some-notable-prs-and-their-brief-description" class="hash-link" aria-label="Direct link to Some notable PRs and their brief description" title="Direct link to Some notable PRs and their brief description">​</a></h2>
<p><a href="https://github.com/microsoft/fluentui/pull/25455" target="_blank" rel="noopener noreferrer">PR</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="design-figma">Design figma<a href="#design-figma" class="hash-link" aria-label="Direct link to Design figma" title="Direct link to Design figma">​</a></h2>
<p>Sankey Chart Figma : <a href="https://www.figma.com/file/WOoCs0CmNYZhYl9xXeCGpi/Data-viz-(Archive)?type=design&amp;node-id=21212-72120&amp;mode=design&amp;t=uSjYIeUd9e3vBPuc-0" target="_blank" rel="noopener noreferrer">Data viz (Archive) – Figma</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rendering-details">Rendering details<a href="#rendering-details" class="hash-link" aria-label="Direct link to Rendering details" title="Direct link to Rendering details">​</a></h2>
<p>The Sankey chart in SankeyChart.base.tsx is rendered using D3.js, a popular JavaScript library for data visualization. The chart is created by rendering a series of SVG elements, including rectangles for the nodes and paths for the links between the nodes.
The chart is created in the _createSankey function, which initializes the D3 Sankey layout and sets the chart&#x27;s dimensions and margins. The function then creates the nodes and links for the chart using the d3.sankey layout and the chart&#x27;s data.
The nodes are rendered as rectangles using the rect SVG element, with the position and size of each rectangle determined by the x, y, width, and height properties of the node. The links between the nodes are rendered as paths using the path SVG element, with the position and shape of each path determined by the x0, y0, x1, y1, and width properties of the link.
The chart also includes event handlers for mouseover and mouseout events on the nodes and links, which highlight the corresponding elements and display tooltips with additional information.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="interactions">Interactions<a href="#interactions" class="hash-link" aria-label="Direct link to Interactions" title="Direct link to Interactions">​</a></h2>
<p>There are various interactions that a user experiences in Line Chart which are</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hover-over-nodes">Hover Over Nodes<a href="#hover-over-nodes" class="hash-link" aria-label="Direct link to Hover Over Nodes" title="Direct link to Hover Over Nodes">​</a></h4>
<p>When the user hovers over nodes, the entire flow associated with that node will be highlighted, encompassing both the links and nodes within the entire flow. Furthermore, the entire flow will be colored to match the node upon which the user has hovered. To enhance visibility, all other nodes will be rendered in white with reduced opacity.Below is an example. Here user has hovered over node with value 62 .
<img loading="lazy" alt="image.png" src="/fluentui-charting-contrib/assets/images/SankeyChartPic5-981250d62a5438d1f49a7189100e63c0.png" width="998" height="472" class="img_ev3q"></p>
<p>Hovering on the node with height less than 24px will display a callout with details of node name and weight.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hover-over-links">Hover Over links<a href="#hover-over-links" class="hash-link" aria-label="Direct link to Hover Over links" title="Direct link to Hover Over links">​</a></h4>
<p>When the user hovers over a link, the entire flow will be highlighted. All nodes will retain their original colors, while the links themselves will adopt a gradient color derived from the source and target nodes. Additionally, a callout will appear, displaying details about the link, such as the source node&#x27;s name, weight, and the target node&#x27;s name. To enhance the visual appeal, the link border will also transition into a gradient when the link is hovered over. Below is an example of a link being hovered over, in this case, between node 4 and node 12.</p>
<p><img loading="lazy" alt="image.png" src="/fluentui-charting-contrib/assets/images/SankeyChartPic6-af110dd78bfea90678297931ac13a72f.png" width="1032" height="628" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/fluentui-charting-contrib/docs/Charting-Concepts/LineChart"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Line Chart</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fluentui-charting-contrib/docs/Charting-Concepts/SparklineChart"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sparkline Chart</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use cases:</a></li><li><a href="#dev-design-details" class="table-of-contents__link toc-highlight">Dev Design details</a><ul><li><a href="#1-nodes" class="table-of-contents__link toc-highlight">1. Nodes</a></li><li><a href="#2links" class="table-of-contents__link toc-highlight">2.Links</a></li></ul></li><li><a href="#mathematicalgeometrical-concepts" class="table-of-contents__link toc-highlight">Mathematical/Geometrical concepts</a><ul><li><a href="#dynamic-node-padding-in-fluent-sankey-chart" class="table-of-contents__link toc-highlight">Dynamic node padding in Fluent Sankey chart</a></li><li><a href="#minimum-height-of-the-node-for-fluent-sankey-charts-will-be-1-of-the-total-column-height" class="table-of-contents__link toc-highlight">Minimum height of the node for Fluent Sankey charts will be 1% of the total column height.</a></li></ul></li><li><a href="#performance" class="table-of-contents__link toc-highlight">Performance</a></li><li><a href="#accessibility" class="table-of-contents__link toc-highlight">Accessibility</a></li><li><a href="#variants" class="table-of-contents__link toc-highlight">Variants</a></li><li><a href="#error-scenarios" class="table-of-contents__link toc-highlight">Error scenarios</a><ul><li><a href="#chart-is-not-rendered-properly-if-for-a-link-source-and-target-node-will-be-same" class="table-of-contents__link toc-highlight">Chart is not rendered properly if for a link source and target node will be same.</a></li><li><a href="#chart-is-not-rendered-properly-if-consistent-names--are-not-used-properly-while-configuring-links" class="table-of-contents__link toc-highlight">Chart is not rendered properly if consistent names  are not used properly while configuring links.</a></li><li><a href="#the-chart-cannot-be-loaded-because-of-one-or-more-reasons" class="table-of-contents__link toc-highlight">The chart cannot be loaded because of one or more reasons:</a></li><li><a href="#the-chart-is-in-a-loading-state-because-of-one-or-more-reasons-below" class="table-of-contents__link toc-highlight">The chart is in a loading state because of one or more reasons below.</a></li><li><a href="#extremely-high-density" class="table-of-contents__link toc-highlight">Extremely high density:</a></li></ul></li><li><a href="#some-notable-prs-and-their-brief-description" class="table-of-contents__link toc-highlight">Some notable PRs and their brief description</a></li><li><a href="#design-figma" class="table-of-contents__link toc-highlight">Design figma</a></li><li><a href="#rendering-details" class="table-of-contents__link toc-highlight">Rendering details</a></li><li><a href="#interactions" class="table-of-contents__link toc-highlight">Interactions</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/fluentui-charting-contrib/docs/Overview">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">FluentUI</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://aka.ms/fluentcharting" target="_blank" rel="noopener noreferrer" class="footer__link-item">Public Developer Docsite<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/microsoft/fluentui" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">FluentUI Charting Contrib</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/microsoft/fluentui-charting-contrib" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/fluentui-charting-contrib/img/microsoft.png" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/fluentui-charting-contrib/img/microsoft.png" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="footer__copyright">Copyright © 2025 Microsoft</div></div></div></footer></div>
</body>
</html>