<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Charting-Concepts/DonutChart" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Donut Chart | FluentUI Charting Contrib Docsite</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://microsoft.github.io/fluentui-charting-contrib/img/fluent-charting-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://microsoft.github.io/fluentui-charting-contrib/img/fluent-charting-social-card.jpg"><meta data-rh="true" property="og:url" content="https://microsoft.github.io/fluentui-charting-contrib/docs/Charting-Concepts/DonutChart"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Donut Chart | FluentUI Charting Contrib Docsite"><meta data-rh="true" name="description" content="DonutChart1.png"><meta data-rh="true" property="og:description" content="DonutChart1.png"><link data-rh="true" rel="icon" href="/fluentui-charting-contrib/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://microsoft.github.io/fluentui-charting-contrib/docs/Charting-Concepts/DonutChart"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/fluentui-charting-contrib/docs/Charting-Concepts/DonutChart" hreflang="en"><link data-rh="true" rel="alternate" href="https://microsoft.github.io/fluentui-charting-contrib/docs/Charting-Concepts/DonutChart" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://XZ2D9M7V2V-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="FluentUI Charting Contrib Docsite" href="/fluentui-charting-contrib/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/fluentui-charting-contrib/assets/css/styles.01357342.css">
<script src="/fluentui-charting-contrib/assets/js/runtime~main.b5d8c80f.js" defer="defer"></script>
<script src="/fluentui-charting-contrib/assets/js/main.bde194f4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fluentui-charting-contrib/"><div class="navbar__logo"><img src="/fluentui-charting-contrib/img/microsoft.png" alt="FluentUI Charting Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/fluentui-charting-contrib/img/microsoft.png" alt="FluentUI Charting Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">FluentUI Charting</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/fluentui-charting-contrib/docs/Overview">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/fluentui-charting-contrib" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fluentui-charting-contrib/docs/changelogSplits/5.25">Changelog</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Start Developing">Start Developing</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/fluentui-charting-contrib/docs/Contributor Guide">Contributor Guide</a><button aria-label="Collapse sidebar category &#x27;Contributor Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/AreaChart">Area Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/DonutChart">Donut Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/GaugeChart">Gauge Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/GroupedVerticalBarChart">Grouped Vertical Bar Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/HeatMapChart">Heatmap Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/HorizontalBarChart">Horizontal Bar Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/LineChart">Line Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/SankeyChart">Sankey Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/SparklineChart">Sparkline Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/StackedBarChart">Stacked Bar Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/VerticalBarChart">Vertical Bar Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluentui-charting-contrib/docs/Charting-Concepts/VerticalStackedBarChart">Vertical Stacked Bar Chart</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Technical Details">Technical details</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Detailed Implementation Steps">Detailed Implementation Steps</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fluentui-charting-contrib/docs/ChartingExamples/VerticalBarChartExample">Examples</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Debugging">Debugging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Implementation Best Practices">Implementation Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Accessibility">Accessibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/colors">Colors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/implementing-2-to-1-spacing">Implementing 2:1 spacing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/creating-date-objects-for-chart-data">Creating Date Objects For Chart Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Testing Strategy">Testing Strategy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/TestCoverage">Test Coverage Report</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fluentui-charting-contrib/docs/Test Plans/AreaChart/ComponentTests">Test Plans</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/Testing Unpublished Library Version">Testing Unpublished Library Version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluentui-charting-contrib/docs/BundleSize">Bundle Size</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/fluentui-charting-contrib/docs/rfcs/fix-2-to-1-spacing">RFCs</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/fluentui-charting-contrib/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/fluentui-charting-contrib/docs/Contributor Guide"><span itemprop="name">Contributor Guide</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Donut Chart</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Donut Chart</h1>
<p><img loading="lazy" alt="DonutChart1.png" src="/fluentui-charting-contrib/assets/images/DonutChart1-9f10b2df3479f2d893fa20709ae72eb0.png" width="749" height="529" class="img_ev3q"></p>
<p>A Donut chart is a type of chart used to visualize data as a circular shape with the central area hollow. It is similar to a Pie chart, but with the area in the center cut out instead of a solid circle.
Donut charts are useful for displaying data as parts of a whole, where each segment represents a percentage or proportion of the total. The segments are typically colored differently to make them easier to distinguish.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use cases" title="Direct link to Use cases">​</a></h2>
<p>Donut charts are commonly used in business and finance to display financial data, such as revenue or expenses. They are also used in marketing to display customer demographics or market share. Here are some real-world use cases for Donut charts:</p>
<ul>
<li>Sales data: Donut charts can be used to display sales data, where each segment represents a product or service category. This can help businesses identify which products or services are performing well and which ones need improvement.</li>
<li>Budget data: Donut charts can be used to display budget data, where each segment represents a budget category. This can help businesses identify areas where they are overspending or underspending.</li>
<li>Demographic data: Donut charts can be used to display demographic data, where each segment represents a different demographic group. This can help businesses identify their target audience and tailor their marketing efforts accordingly.</li>
<li>Market share data: Donut charts can be used to display market share data, where each segment represents a different company or brand. This can help businesses identify their competitors and their position in the market.</li>
<li>Survey data: Donut charts can be used to display survey data, where each segment represents a different response option. This can help businesses identify the most popular responses and areas where improvements can be made.</li>
</ul>
<p>Overall, Donut charts are useful for displaying data as parts of a whole, where each segment represents a percentage or proportion of the total. They are a popular choice for visualizing financial, marketing, and survey data.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mathematicalgeometrical-concepts">Mathematical/Geometrical concepts<a href="#mathematicalgeometrical-concepts" class="hash-link" aria-label="Direct link to Mathematical/Geometrical concepts" title="Direct link to Mathematical/Geometrical concepts">​</a></h2>
<p><img loading="lazy" alt="DonutChart2.png" src="/fluentui-charting-contrib/assets/images/DonutChart2-8fa01069f0af01a5a142c8909c588c1f.png" width="1117" height="662" class="img_ev3q"></p>
<p>The d3-shape library provides various functions for creating and manipulating shapes such as arcs, lines, and areas. Following are the main mathematical/geometrical concepts that are used while drawing a donut chart.</p>
<ol>
<li><strong>d3.arc():</strong> Creates an arc generator function that can be used to create an SVG arc path. The arc generator function takes in an object that specifies the start and end angles of the arc, as well as the inner and outer radii of the arc. The following are some of the main props that the arc generator accepts:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- startAngle: The starting angle of the arc, in radians. The default value is 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- endAngle: The ending angle of the arc, in radians. The default value is 2π (i.e., a full circle).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- innerRadius: The inner radius of the arc, in pixels. The default value is 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- outerRadius: The outer radius of the arc, in pixels. This prop is required.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- padAngle: The amount of padding to add between adjacent arcs, in radians. The default value is 0.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li><strong>d3.pie():</strong> creates a pie generator function that can be used to create a pie chart. The pie generator function takes in an array of data and returns an array of objects that represent each data point in the pie chart.</li>
</ol>
<ul>
<li>Pie formation: The function uses the data values to calculate the angles for each data point. It then uses the angles to create a series of arcs that represent each data point in the pie chart. The arcs are created using the d3.arc() function, which creates an SVG arc path based on the start and end angles of the arc.</li>
<li>Supported props: The function also provides various options for customizing the pie chart, such as the pie start angle, the pie end angle, and the sort order of the data points. These options can be used to create different types of pie charts, such as donut charts or exploded pie charts.
Here are the main props that can be passed to the pie generator function:</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- data: the input datum; the corresponding element in the input data array.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- value: the numeric value of the arc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- index: the zero-based sorted index of the arc.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- startAngle: The starting angle of the pie chart, in radians. The default value is 0.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- endAngle: The ending angle of the pie chart, in radians. The default value is 2π (i.e., a full circle).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- padAngle: The amount of padding to add between adjacent data points, in radians. The default zalue is 0.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dev-design-details">Dev Design details<a href="#dev-design-details" class="hash-link" aria-label="Direct link to Dev Design details" title="Direct link to Dev Design details">​</a></h2>
<p>This section contains the technical design of various sub components of a donut chart and how they interact with each other. This section can also contain any key interface or class structure of the donut chart.
The Donut chart consists of the following sub-components:</p>
<ol>
<li><strong>Arc:</strong></li>
</ol>
<ul>
<li><strong>Arc creation:</strong> This component is used to render an arc in a pie chart, and it receives various props such as the arc data, color, and focus state. The component uses the d3-shape library to create the arc shape, and it also uses the @fluentui/react library to apply styles to the component.</li>
<li><strong>Arc event handlers:</strong> The Arc component has several methods that handle events such as _onFocus, _hoverOn, _hoverOff, _onBlur and onClick. These methods are used to update the component&#x27;s state and to trigger callbacks that are passed in as props. The component also has a method called _renderArcLabel that is used to render the label for the arc.</li>
<li><strong>Arc update:</strong> The Arc component uses the getDerivedStateFromProps method to update the chart whenever new props are received. This method calls the _updateChart function, which updates the inner and outer radius of the arc based on the new props.
Overall, the Arc component is a reusable component that can be used to render an arc in a pie chart. It is highly customizable and can be used in a variety of contexts.</li>
</ul>
<ol start="2">
<li><strong>Pie:</strong></li>
</ol>
<ul>
<li><strong>Pie creation:</strong> This component is used to render a pie chart, and it receives various props such as the chart data, inner and outer radius, and callbacks for hover and focus events. The component uses the d3-shape library to create the pie chart shape, and it also uses the @fluentui/react library to apply styles to the component.</li>
<li><strong>Constraint:</strong> The inner radius has to be greater than 0.</li>
<li><strong>Pie handlers:</strong> The Pie component has several methods that handle events such as _focusCallback and _hoverCallback. These methods are used to update the component&#x27;s state and to trigger callbacks that are passed in as props. The component also has a method called _computeTotalValue that is used to calculate the total value of the chart data.</li>
<li><strong>Pie update:</strong> The Pie component uses the getDerivedStateFromProps method to update the chart whenever new props are received. This method calls the _updateChart function, which updates the inner and outer radius of the chart based on the new props.
Overall, the Pie component is a reusable component that can be used to render a pie chart. It is highly customizable and can be used in a variety of contexts.</li>
</ul>
<ol start="3">
<li><strong>Callout:</strong></li>
</ol>
<ul>
<li><strong>Callout creation:</strong> The DonutChart component has a method called _renderCallouts that is used to render callouts for the data points. This method creates a Callout component from the @fluentui/react library and passes in various props such as the target element, the callout ID, and the callout content. The method also sets up various actions for the callout, such as hover and dismiss actions.</li>
<li><strong>Callout behaviour:</strong> The Callout component is used to display additional information about a data point when it is hovered over. It is positioned relative to the hovered data point and displays information such as the data point&#x27;s legend, value, and color. The Callout component is highly customizable and can be used in a variety of contexts.</li>
</ul>
<ol start="4">
<li><strong>Legends:</strong></li>
</ol>
<ul>
<li><strong>Legend creation:</strong> The DonutChart component has a private method called _createLegends that is used to create the legends for the chart. This method takes in the chart data and color palette as arguments and returns a JSX element that contains the legends. The method maps over the chart data and creates a legend for each data point. It also sets up various actions for each legend, such as hover and click actions.</li>
</ul>
<ol start="5">
<li><strong>Inner Text:</strong></li>
</ol>
<ul>
<li><strong>Inner text description:</strong> The inner text in a Donut chart is the text displayed in the centre of the donut chart, inside the hollow region. This text can be used to display additional information about the data being displayed, such as the total value or the name of the data set.</li>
</ul>
<ol start="6">
<li><strong>Rendering details</strong>
The donut chart uses d3 SVG based rendering, which follows the following render cycles:</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Invocation cycle: Donut Chart -&gt; Pie -&gt; Arc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Rendering cycle:  Donut chart &lt;- d3.pie() &lt;- d3.arc()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="7">
<li><strong>Error scenarios</strong></li>
</ol>
<p>Currently, donut chart cannot handle long inner texts which overflows and results in error state. Fix for this issue is already in PR.</p>
<ol start="8">
<li>
<p><strong>Localization aspects</strong>
Currently, donut chart provides localization only for the inner text.</p>
</li>
<li>
<p><strong>Testing</strong>
The manual, component and unit testing of donut charts have been completed. Following is the improvement in code coverage:</p>
</li>
</ol>
<p><img loading="lazy" alt="DonutChart3.png" src="/fluentui-charting-contrib/assets/images/DonutChart3-43bb764e6b1372961370da02b2f7196b.png" width="2475" height="537" class="img_ev3q"></p>
<ol>
<li>Component Tests:
o Work item: <a href="https://uifabric.visualstudio.com/iss/_workitems/edit/6798/" target="_blank" rel="noopener noreferrer">https://uifabric.visualstudio.com/iss/_workitems/edit/6798/</a>
o Test plan: <a href="https://github.com/microsoft/fluentui/blob/master/packages/react-charting/docs/TestPlans/DonutChart/ComponentTests.md" target="_blank" rel="noopener noreferrer">https://github.com/microsoft/fluentui/blob/master/packages/react-charting/docs/TestPlans/DonutChart/ComponentTests.md</a></li>
<li>Unit Tests:
o Work item: <a href="https://uifabric.visualstudio.com/iss/_workitems/edit/7403" target="_blank" rel="noopener noreferrer">https://uifabric.visualstudio.com/iss/_workitems/edit/7403</a></li>
</ol>
<ul>
<li>
<p><strong>Accessibility</strong>
FAST pass checks resulted in no error for Donut chart. Link to the FAST pass tool: <a href="https://accessibilityinsights.io/docs/web/getstarted/fastpass/" target="_blank" rel="noopener noreferrer">https://accessibilityinsights.io/docs/web/getstarted/fastpass/</a>
Our charts have elaborate accessibility support. The charts are WCAG 2.1 MAS C compliant for accessibility.
Consumers can define their own aria labels for each point by setting the xAxisCalloutAccessibilityData and callOutAccessibilityData properties.</p>
</li>
<li>
<p><strong>Theming</strong>
The palette for donut chart is set from the &quot;theme&quot; prop as passed to the component during rendering. Both light and dark themes are supported and users can create there own theme too. Ref[3]  and Ref[4]  explains theming in detail.</p>
</li>
<li>
<p><strong>Debugging</strong>
The detailed steps on debugging has been given in <a href="https://github.com/microsoft/fluentui-charting-contrib/blob/main/docs/Debugging.md" target="_blank" rel="noopener noreferrer">Debugging</a>.</p>
</li>
<li>
<p><strong>Variants</strong>
Following are the variants of donut chart: <a href="https://developer.microsoft.com/en-us/fluentui#/controls/web/donutchart" target="_blank" rel="noopener noreferrer">Ref2</a></p>
<ol>
<li>Basic Donut Chart: Only basic props are provided.</li>
<li>Dynamic Donut Chart: The data and pie colors can change.</li>
<li>Custom Callout: Can show customized callout data.</li>
<li>Custom Accessibility: Providing custom aria labels.</li>
</ol>
</li>
<li>
<p><strong>Interaction</strong>
Following are the interactions that are allowed for donut chart:</p>
<ol>
<li>Mouse Events:
a. On mouse over on the donut chart, should render callout.
b. On mouse move on Pie 1 (step 1) -&gt; mouse leave (step 2) -&gt; mouse move on Pie 2 (step 3), should render the callout of the Pie 2.
c. On mouse over, callout should be defined, on mouse leave, callout should disappear.
d. On mouse over on legends, should highlight the corresponding pie.
e. On mouse over on legends, should change the value inside donut with the legend value.
f. On click on Pie, should highlight the corresponding pie with aria-selected set to “true” and tabIndex set to 0.
g. On mouse out after mouse over on first legend, should have opacity 0.1 for second Pie initially (during mouseOver on first legend) and opacity set to 1 for both the Pies on mouse out.</li>
<li>Keyboard Events:
a. On focus on a Pie, should render the corresponding callout.
b. On blur on a Pie, should remove focus from the corresponding Pie.</li>
</ol>
</li>
<li>
<p><strong>Some notable PRs and their brief description</strong></p>
<ol>
<li><a href="https://github.com/microsoft/fluentui/commit/b60d3dfb35367467568d91c2933bb7053e9b716b" target="_blank" rel="noopener noreferrer">Adding the Donut Chart main component</a></li>
<li><a href="https://github.com/microsoft/fluentui/commit/5349c8cbc522ff7b9eac2e5858cbad092d22eb82" target="_blank" rel="noopener noreferrer">Adding Tests for Donut Chart using React Testing Library</a></li>
<li><a href="https://github.com/microsoft/fluentui/commit/50ee71862affde61ace35edcb5c3d6f67928f343" target="_blank" rel="noopener noreferrer">Allow focus navigation with tab key in donut chart (Accessibility)</a></li>
</ol>
</li>
<li>
<p><strong>Learnings</strong></p>
</li>
</ul>
<ol>
<li>
<p>While implementing the tests using react testing library, it was found that certain browser functions like getComputedTextLength() cannot be unit tested and needs to be tested End-to-End only.</p>
</li>
<li>
<p>Order of imports are important.
For example: for Vertical bar charts tests, improper sequencing of the imports (data first and then render) results in incorrect and incopmlete rendering of charts:</p>
</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import { chartPoints } from &#x27;../VerticalBarChart/VerticalBarChart.test&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { render, screen, queryAllByAttribute, fireEvent, act } from &#x27;@testing- </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">library/react&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">However, the following results in correct rendering:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { render, screen, queryAllByAttribute } from &#x27;@testing-library/react&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import { chartPoints } from &#x27;./VerticalBarChart.test&#x27;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Certain props need async await structure (waitFor in react testing library) for different props or nested SVGs to render.</li>
</ol>
<ul>
<li><strong>Known issues</strong></li>
</ul>
<p>The value inside Donut chart overflows. Should be ideally wrapping inside the donut chart. Work item 5321 captures this bug. This item has already been fixed in this <a href="https://github.com/microsoft/fluentui/pull/26192" target="_blank" rel="noopener noreferrer">PR</a>.</p>
<ul>
<li><strong>Future improvements</strong></li>
</ul>
<p>Following are the list of future improvements for the donut chart:</p>
<ol>
<li>The donut chart component can be extended to support Nested Donut Charts which can also be used to display multiple sets of data, where each ring represents a different data set.</li>
</ol>
<ul>
<li>
<p><strong>Design figma</strong>
Donut Chart Figma: <a href="https://www.figma.com/file/WOoCs0CmNYZhYl9xXeCGpi/Data-viz-(Archive)?type=design&amp;node-id=3361-77520&amp;mode=design&amp;t=lvW5txXwtfI7wvOI-0" target="_blank" rel="noopener noreferrer">Link</a></p>
</li>
<li>
<p><strong>Performance</strong></p>
</li>
</ul>
<p>The performance aspect of a donut chart refers to how efficiently and effectively it conveys information to the viewer. Here are some key considerations regarding the performance of a line chart:</p>
<ul>
<li>Data Visualization Efficiency</li>
<li>Clarity and Simplicity</li>
<li>Responsiveness</li>
<li>Handling Large Datasets</li>
<li>Interactive Features
We use Lighthouse tool for measuring the performance of our charts. Following are few of the scenarios for which we measure the performance score for donut chart:<!-- -->
<ol>
<li>chart with 100 data points</li>
<li>charts with localized data
All of the above scenarios have 95+ Lighthouse score. We are efficient in terms of the performance of the donut chart.</li>
</ol>
</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/fluentui-charting-contrib/docs/Charting-Concepts/AreaChart"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Area Chart</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fluentui-charting-contrib/docs/Charting-Concepts/GaugeChart"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Gauge Chart</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use cases</a></li><li><a href="#mathematicalgeometrical-concepts" class="table-of-contents__link toc-highlight">Mathematical/Geometrical concepts</a></li><li><a href="#dev-design-details" class="table-of-contents__link toc-highlight">Dev Design details</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/fluentui-charting-contrib/docs/Overview">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">FluentUI</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://aka.ms/fluentcharting" target="_blank" rel="noopener noreferrer" class="footer__link-item">Public Developer Docsite<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/microsoft/fluentui" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">FluentUI Charting Contrib</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/microsoft/fluentui-charting-contrib" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/fluentui-charting-contrib/img/microsoft.png" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/fluentui-charting-contrib/img/microsoft.png" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="footer__copyright">Copyright © 2025 Microsoft</div></div></div></footer></div>
</body>
</html>